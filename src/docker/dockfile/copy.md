格式:

* `COPY [--chown=<user>:<group>] <源文件路径> <目标文件路径>`
* `COPY [--chown=<user>:<group>] ["<源文件路径1>",...,"<目标文件路径>"]`

和`RUN`指令一样，也有两种格式，一种类似命令行，一种类似于函数调用。

`COPY`指令将从构建上下文目录中`<源路径>`的文件或目录复制到新的一层的镜像内的`<目标路径>`位置。比如:

```docker
COPY package.json /usr/src/app/
```

`<源路径>`可以是多个文件或目录, 也可以是`<通配符>`, 其通配符规则要满足Go语言的`filepath.Match`规则，如：

```docker
COPY home* /usr/src/app/
COPY hom?.txt /mydir/
```

`<目标路径>`可以是容器内绝对路径，也可以是相对于工作目录（可以用WORKDIR指令指定）的相对路径。目标路径不需要事先存在，如果不存在，`COPY`指令会自动创建目录。

`COPY`指令会将文件或目录的元数据复制到目标位置，比如文件权限、文件所有者、文件所有组都会保留等。

在使用该指令时还可以加上`--chown=<user>:<group>`选项，该选项可以指定复制到镜像中的文件或目录的文件所有者和文件所有组。

```docker
COPY --chown=1000:1000 . /tmp/
COPY --chown=bin files* /mydir/
```

如果源路径是文件夹，那么目标路径必须是目录，否则会报错。
如果源路径是文件夹，复制的时候不是直接复制文件夹，而是将文件夹中的内容复制到目标路径。